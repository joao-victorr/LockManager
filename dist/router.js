"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.router = void 0;
const express_1 = require("express");
const multer_1 = __importDefault(require("multer"));
const PassportMiddleware_1 = require("./middleware/PassportMiddleware");
const UserWebController_1 = require("./controller/UserWebController");
const UsersController_1 = require("./controller/UsersController");
const LocksController_1 = require("./controller/LocksController");
const LoginController_1 = require("./controller/LoginController");
const GroupsController_1 = require("./controller/GroupsController");
const TimesController_1 = require("./controller/TimesController");
const AcccessRulesController_1 = require("./controller/AcccessRulesController");
const UsersGroupsController_1 = require("./controller/UsersGroupsController");
const router = (0, express_1.Router)();
exports.router = router;
const storage = multer_1.default.memoryStorage();
const upload = (0, multer_1.default)({ storage });
const loginController = new LoginController_1.LoginController;
const userWebController = new UserWebController_1.UserWebController;
const usersController = new UsersController_1.UsersController;
const locksController = new LocksController_1.LocksController;
const groupController = new GroupsController_1.GroupsController;
const timesController = new TimesController_1.TimesController;
const accessRulesController = new AcccessRulesController_1.AcccessRulesController;
const usersGroupsController = new UsersGroupsController_1.UsersGroupsController;
router.post('/login', loginController.login);
router.post('/user_web', PassportMiddleware_1.privateRouter, userWebController.create);
router.get('/user_web', PassportMiddleware_1.privateRouter, userWebController.read);
router.delete('/user_web', PassportMiddleware_1.privateRouter, userWebController.delete);
router.put('/user_web', PassportMiddleware_1.privateRouter, userWebController.update);
router.post('/users', PassportMiddleware_1.privateRouter, upload.single("image"), usersController.create);
router.get('/users', PassportMiddleware_1.privateRouter, usersController.read);
router.delete('/users', PassportMiddleware_1.privateRouter, usersController.delete);
router.post('/locks', PassportMiddleware_1.privateRouter, locksController.create);
router.get('/locks', PassportMiddleware_1.privateRouter, locksController.read);
router.delete('/locks', PassportMiddleware_1.privateRouter, locksController.delete);
router.post('/group', PassportMiddleware_1.privateRouter, groupController.create);
router.get('/group', PassportMiddleware_1.privateRouter, groupController.read);
router.delete('/group', PassportMiddleware_1.privateRouter, groupController.delete);
router.post('/times', PassportMiddleware_1.privateRouter, timesController.create);
router.post('/access_rules', PassportMiddleware_1.privateRouter, accessRulesController.create);
router.post('/user_group', PassportMiddleware_1.privateRouter, usersGroupsController.create);
//# sourceMappingURL=router.js.map